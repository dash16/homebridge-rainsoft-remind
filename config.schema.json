{
	"pluginAlias": "RainsoftRemind",
	"pluginType": "accessory",
	"singular": true,

	"schema": {
		"type": "object",
		"properties": {
			"name": {
				"title": "Accessory Name in Home",
				"type": "string",
				"default": "RainSoft EC5",
				"description": "How it will appear in the Home app (e.g. \"RainSoft EC5\" or \"Water Softener\").",
				"required": true
			},
			"modelLabel": {
				"title": "Model Label",
				"type": "string",
				"placeholder": "EC5-75-CV",
				"description": "RainSoft Remind → System Info → Model. Used for HomeKit Accessory Information.",
				"required": true
			},
			"serialNumber": {
				"title": "Serial Number",
				"type": "string",
				"placeholder": "1234567",
				"description": "RainSoft Remind → System Info → Serial Number. Used for HomeKit Accessory Information.",
				"required": true
			},
			"email": {
					"title": "RainSoft Account Email (optional)",
					"type": "string",
					"placeholder": "name@example.com",
					"description": "Used for automatic login. Leave blank if you prefer to capture token manually."
			},
			"password": {
					"title": "RainSoft Account Password (optional)",
					"type": "string",
					"format": "password",
					"description": "Used with Email to log in and auto-populate authToken + deviceId.",
					"secure": true
			},
			"deviceId": {
				"title": "Device ID",
				"type": "string",
				"placeholder": "123456",
				"description": "Numeric ID from the RainSoft API URL (/device/######).",
				"required": false
			},
			"authToken": {
				"title": "Auth Token",
				"type": "string",
				"placeholder": "abcd1234-example-token-5678",
				"description": "Value of the X-Remind-Auth-Token header captured from the RainSoft Remind app. KEEP THIS SECRET!",
				"secure": true,
				"required": false
			},
			"pollSeconds": {
				"title": "Polling Interval (seconds)",
				"type": "integer",
				"default": 300,
				"description": "How often to refresh salt level and status. Default 300 (5 min). Lower = more requests."
			},
			"forceUpdate": {
				"title": "Force Update Before Poll",
				"type": "boolean",
				"default": true,
				"description": "Call RainSoft's /forceupdate first to ask the unit for fresh data before reading values."
			}
		}
	},

	"layout": [
		{
			"title": "Home Accessory Identity",
			"type": "section",
			"items": [
				"name",
				"modelLabel",
				"deviceId",
				"serialNumber"
			]
		},
		{
				"title": "Automatic Login (Optional)",
				"type": "section",
				"items": [
					"email",
					"password"
				]
			},
			{
				"title": "Manual Cloud Access (Optional)",
				"type": "section",
				"items": [
					"authToken"
				]
			},
		{
			"title": "Polling Behavior",
			"type": "section",
			"items": [
				"pollSeconds",
				"forceUpdate"
			]
		}
	]
}
